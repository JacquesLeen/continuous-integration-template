install:
	@echo '---------------------------------------------------------'
	@echo 'Running pip install...'
	@echo '---------------------------------------------------------'
	pip install --upgrade pip &&\
	pip install -r requirements.txt
	@echo '---------------------------------------------------------'
	@echo 'Dependncies installed'
	@echo '---------------------------------------------------------'

test:
	@echo '---------------------------------------------------------'
	@echo 'Running pytest...'
	@echo '---------------------------------------------------------'
	python -m pytest -vv --cov=hello test_hello.py
	@echo '---------------------------------------------------------'
	@echo 'tests passed'
	@echo '---------------------------------------------------------'

lint:
	@echo '---------------------------------------------------------'
	@echo 'Running pylint... Remember to add || [ $$? -eq 4 ] to ignore warning exit codes'
	@echo '---------------------------------------------------------'
	pylint --disable=R,C hello.py || [ $$? -eq 4 ]
	@echo '---------------------------------------------------------'
	@echo 'linting passed'
	@echo '---------------------------------------------------------'

format:
	@echo '---------------------------------------------------------'
	@echo 'Running black...'
	@echo '---------------------------------------------------------'
	black *.py
	@echo '---------------------------------------------------------'
	@echo 'code formatted'
	@echo '---------------------------------------------------------'

all: install lint format test
	@echo "All tasks completed successfully."